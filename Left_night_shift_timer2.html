<html>
 <head>
  <title>Night Countdown Timer</title>
  <style type="text/css">
   table {
    border-style:solid;
    border-width:1px;
    border-color:blue;
   }
  </style>
  <script language="javascript">
   var now;
   var hour;
   var min;
   var sec;
   var spent_time;
   var left_time;
   var lhour;
   var lmin;
   var lsec;
   function start(){
    timer();
    setInterval('display_timer()', 1);
    setInterval('timer()', 500);
   }
   function timer(){
    now = new Date();
    hour = now.getHours();
    min = now.getMinutes();
    sec = now.getSeconds();
    if(hour+min/60 < 9.5){
     spent_time = 23400+hour*60*60+min*60+sec;
    }
    else if(hour+min/60 > 17.5){
     spent_time = hour*60*60+min*60+sec-63000;
    }
    else
     spent_time = 0;
    left_time = 57600-spent_time;
    lhour = Math.floor(left_time/60/60);
    lmin  = Math.floor(left_time/60-lhour*60);
    lsec  = left_time-lhour*60*60-lmin*60;
   }
   var thour;
   var tmin;
   var tsec;
   function display_timer(){
    if(lhour<10)
     thour="0"+lhour;
    else
     thour=lhour;
    if(lmin<10)
     tmin="0"+lmin;
    else
     tmin=lmin;
    if(lsec<10)
     tsec="0"+lsec;
    else
     tsec=lsec;

    var sec_ratio = left_time/57600*100;
    times.innerHTML="Left time of Night Shift Work [h:m:s]<br>"+thour+":"+tmin+":"+tsec+" ("+left_time+" s)";
    graph.innerHTML="<table width=180 border=0 style='border-collapse:collapse'><tr><td width="+sec_ratio+"% bgcolor=blue></td><td align=right width="+(100-sec_ratio)+"%>ã€€</td></tr></table>"+sec_ratio.toFixed(6)+" %";
   }
  </script>
 </head>
 <body onload="start()">
  <center>
   <span id=times></span><br>
   <span id=graph></span>
  </center>
 </body>
</html>
